<div class="demo-content__drawer demo-content__drawer--persistent">
  <mdc-drawer #persistent drawer="persistent">
    <mdc-drawer-spacer>
      <mdc-text-field #searchText [box]="false" label="search for songs" maxlength="30" (change)="submitQuickSearch(searchText.value)">
        <mdc-icon class="search_icon" trailing #searchicon [clickable]="true">search</mdc-icon>
      </mdc-text-field>
    </mdc-drawer-spacer>
    <div class="search-list list-group">
      <!--List of search results-->
      <div id="searchFeedback">
        <div id="sFimg">
          <app-loading-modal></app-loading-modal>
        </div>
        <p id="sFtext">No results were found for this search.</p>
      </div>
      <div id="{{'accordion_' + ix}}" class="accordion song_list_item list-group-item list-group-item-action flex-column align-items-start" *ngFor="let match of searchMatchList; let ix = index">
        <div class="d-flex w-100 justify-content-between">
          <b class="mb-1">{{ match.artist }} - {{ match.title }}</b>
          <div class="checkbox" #checkbox1 (change)="selectSong(ix, null, $event)">
            <label><input type="checkbox" id="{{ 'checkbox_' + ix }}" value=""/></label>
          </div>
        </div>
        <div class="d-flex w-100 justify-content-between">
          <small *ngIf="match.versions.length > 1">{{ match.versions.length }} Videos matching</small>
          <small *ngIf="match.versions.length === 1">{{ match.versions.length }} Video matching</small>
          <img (click)="toggleAccordion(ix, $event)" id="{{'img_' + ix}}" height ="10px" src="../../assets/chevron_down.svg">
        </div>
        <div class="panel list-group "  id="{{'panel_' + ix}}">
          <div class="list-group-item flex-column align-items-start" *ngFor="let version of match.versions, let iy = index">
            <div class="d-flex w-100 justify-content-between">
              <b>{{ version.snippet.title }}</b>
              <div class="checkbox" (change)="selectSong(ix, iy, $event)">
                <label><input type="checkbox" id="{{ 'subcheckbox_' + iy }}" value=""/></label>
              </div>
            </div>
            <div class="d-flex w-100 justify-content-between" style="margin-top:7px">
              <small><mdc-icon class="iconsVersions" mdc-toolbar-menu-icon>mode_comment</mdc-icon> {{shortValues(version.statistics.nbCommentInDb)}} comments  </small>
              <a class="song_link" href="https://www.youtube.com/watch?v={{ version.id }}" target="_blank">
                <img height="15px" src="../../assets/002-unlink.svg"/>
              </a>
            </div>
            <small>
                <mdc-icon class="iconsVersions" mdc-toolbar-menu-icon style="margin-top:4px;">trending_up</mdc-icon> 
                {{shortValues(version.statistics.likeCount)}} likes | {{shortValues(version.statistics.dislikeCount)}} dislikes | {{shortValues(version.statistics.viewCount)}} views
            </small>
          </div>
        </div>
      </div>
    </div>
  </mdc-drawer>

  <div>
    <mdc-toolbar>
      <mdc-toolbar-row>
          <button id="main_buttonAdd" class="main_button" (click)="persistent.open(); setOpen()">
            <mdc-icon mdc-toolbar-menu-icon *ngIf="openDrawer">keyboard_arrow_left</mdc-icon>
            <mdc-icon mdc-toolbar-menu-icon *ngIf="!openDrawer">keyboard_arrow_right</mdc-icon>
            <h1>Add Video(s)</h1>
          </button>

          <div class="mainMenu">
              <button (click)="switchView('Comments');" [className]="showContent == 'Comments' ? 'active menu_Comments' : 'menu_Comments first'"><img height="24px" title="Comments" src="../../assets/menu_comment.svg">Comments</button>
              <button (click)="switchView('Sentiment');" [className]="showContent == 'Sentiment' ? 'active menu_Sentiment' : 'menu_Sentiment'"><img height="24px" title="Sentiment" src="../../assets/menu_sentiment.svg">Sentiment</button>
              <button (click)="switchView('Engagement');" [className]="showContent == 'Engagement' ? 'active menu_Engagement' : 'menu_Engagement'"><img height="24px" title="Engagement" src="../../assets/menu_engagement.svg">Engagement</button>
              <button (click)="switchView('Language');" [className]="showContent == 'Language' ? 'active menu_Language' : 'menu_Language'"><img height="24px" title="Language" src="../../assets/menu_language.svg">Language</button>
            </div>

            <img class="logoSamba" src="../../assets/Samba_Logo_rgb_transparent_cut.png" alt="samba logo"/>
      </mdc-toolbar-row>
    </mdc-toolbar>

    <!--<mdc-chip-set #inputchipset [input]="true" style="margin-left: 20px;">
      <mdc-chip
      [ngStyle]="{'background-color': element.isGroup ? '#DCDCDC' : '#C0D9D9'}"
        *ngFor="let element of labelsForChips; let i = index"
        (trailingIconInteraction)="removeSelectedSong(element, i)"
        >
        {{element.title}}
        <mdc-chip-icon *ngIf="!element.isGroup" leading>person</mdc-chip-icon>
        <mdc-chip-icon *ngIf="element.isGroup" leading>group</mdc-chip-icon>
        <mdc-chip-icon trailing>cancel</mdc-chip-icon>
      </mdc-chip>
    </mdc-chip-set>-->    

    <div class="contentmargin" (click)="changeFocus()">
      <div class="grid-container">  
        <mat-grid-list cols="3" rowHeight="200px">
          <!-- Video Info -->
          <mat-grid-tile [colspan]="1" [rowspan]="2">
            <mat-card class="dashboard-card">
              <mat-card-content>
                <app-hardfacts></app-hardfacts>
              </mat-card-content>
            </mat-card>
          </mat-grid-tile>
          <!-- Time Vis -->
          <mat-grid-tile [colspan]="2" [rowspan]="3">
            <mat-card class="dashboard-card comment-section">
              <mat-card-content class="dashboard-card-content">
                  <button class="correctResetBtn" (click)="resetFilters()"><p>Reset Filters</p> <mat-icon>refresh</mat-icon></button>
                  <app-mainvis id="timeView_Comments" class="view"></app-mainvis>
                  <app-time-engagement-comments class="view" id="timeView_Engagement"></app-time-engagement-comments>
                  <app-time-language class="view" id="timeView_Language"></app-time-language>
                  <app-time-sentiment class="view" id="timeView_Sentiment"></app-time-sentiment>
              </mat-card-content>
            </mat-card>
          </mat-grid-tile>
          <!-- Overview -->
          <mat-grid-tile [colspan]="1" [rowspan]="2">
            <mat-card class="dashboard-card">
              <mat-card-content>
                <app-topic class="view" id="overview_Comments"></app-topic>
                <app-engagement-comments class="view" id="overview_Engagement"></app-engagement-comments>
                <app-language class="view" id="overview_Language"></app-language>
                <app-sentiment class="view" id="overview_Sentiment"></app-sentiment>
              </mat-card-content>
            </mat-card>
          </mat-grid-tile>
          <!-- Comments -->
          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-card class="dashboard-card" style="overflow-y: scroll;">
              <mat-card-content>
                <h1>Comments...</h1>
                <!--<app-comment></app-comment>-->
              </mat-card-content>
            </mat-card>
          </mat-grid-tile>
          <!-- Footer -->
          <mat-grid-tile class="grid_title_overflow" [colspan]="3" [rowspan]="1">
            <mat-card class="dashboard-card"><mat-card-content class="dashboard-card-content">
              <a id="footlink" href="https://samba.fhstp.ac.at/" target="_blank" style="text-decoration: none; color:#888888; margin-top: -10px;">
                Smart Data for Music Business Administration (SAMBA)
              </a>
            </mat-card-content></mat-card>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
    </div>
  </div>
</div>
